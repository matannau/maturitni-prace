import unittest

from src.bot import find_best_move_value


class TestValue(unittest.TestCase):

    def test_3_cross(self):
        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["X"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1.75)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["O"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1.75)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["X"], ["O"], ["_"], ["O"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["X"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1.75)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["O"], ["X"], ["X"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 3)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["O"], ["X"], ["X"], ["O"], ["X"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["X"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1.75)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["O"], ["O"], ["O"], ["O"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["X"], ["X"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["O"], ["O"], ["O"], ["O"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 3)

    def test_4_cross(self):
        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["X"], ["X"], ["X"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["X"], ["X"], ["_"], ["X"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["X"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["O"], ["X"], ["O"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1)

    def test_forks_cross(self):
        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["X"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["_"], ["X"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1.75)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["O"], ["O"], ["O"], ["O"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["X"], ["X"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["O"], ["O"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1.75)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["X"], ["X"], ["O"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 3)

    def test_winning_move_cross(self):
        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["X"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["_"], ["_"], ["_"]],
            [["_"], ["X"], ["_"], ["_"], ["X"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
            ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["O"], ["O"], ["O"], ["O"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["_"], ["X"], ["X"], ["X"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["X"], ["O"], ["O"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
            ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1)

        gamegrid, size = [
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["X"], ["_"], ["X"], ["X"], ["X"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]],
            [["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"], ["_"]]
        ], 10
        value, moves = find_best_move_value(gamegrid, size, "O", "X")
        self.assertEqual(value, 1)
